(function(e){function t(t){for(var a,r,l=t[0],o=t[1],u=t[2],d=0,f=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);c&&c(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,l=1;l<n.length;l++){var o=n[l];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={config:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=o;s.push([1,"chunk-vendors"]),n()})({1:function(e,t,n){e.exports=n("db49")},"2be4":function(e,t,n){"use strict";n("d639")},bb9d:function(e,t,n){},bcc4:function(e,t,n){"use strict";n("bb9d")},d639:function(e,t,n){},db49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("div",{staticClass:"titleRow"},[n("span",{staticClass:"sectionTitle"},[e._v("Configuration")]),n("ConfigInfoTip")],1),n("ConfigSelect",{attrs:{id:"parameter",labelText:"Select a storage parameter",items:e.parameters},on:{"set-value":function(t){e.parameter=t}},model:{value:e.parameter,callback:function(t){e.parameter=t},expression:"parameter"}}),n("ConfigSelect",{attrs:{id:"worksheet",labelText:"Select a source worksheet",items:e.worksheets},on:{"set-value":function(t){e.worksheet=t}},model:{value:e.worksheet,callback:function(t){e.worksheet=t},expression:"worksheet"}}),n("ConfigSelect",{attrs:{id:"field",labelText:"Select a field",items:e.fields},on:{"set-value":function(t){e.field=t}},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}}),e._m(0),n("ButtonGroup",{attrs:{id:"location",labelText:"Location of inputs",items:e.locations},on:{"set-value":function(t){e.location=t}},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}}),n("ButtonGroup",{attrs:{id:"display",labelText:"Inputs to display",items:e.displays},on:{"set-value":function(t){e.display=t}},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}}),n("ButtonGroup",{attrs:{id:"trigger",labelText:"Trigger",items:e.triggers,disabled:0===e.display&&1===e.location},on:{"set-value":function(t){e.trigger=t}},model:{value:e.trigger,callback:function(t){e.trigger=t},expression:"trigger"}}),e.labelsSet?n("div",{staticClass:"spreadRow"},[n("react-TextField",{attrs:{kind:"line",label:"Unit label",className:"fullWidth",maxlength:"10",defaultValue:e.unitLabel,"data-test":"unitLabel"},on:{onChange:function(t){e.unitLabel=t.target.value}}}),n("react-TextField",{attrs:{kind:"line",label:"Button text",className:"fullWidth",maxlength:"30",defaultValue:e.selectBtnLabel,disabled:0===e.trigger||0===e.display&&1===e.location,"data-test":"selectBtnLabel"},on:{onChange:function(t){e.selectBtnLabel=t.target.value}}})],1):e._e(),n("div",{staticClass:"saveButton"},[n("react-Button",{attrs:{kind:"primary",disabled:!e.validConfig,"data-test":"saveButton"},on:{onClick:e.save}},[e._v("Save Settings")])],1)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"titleRow"},[n("span",{staticClass:"sectionTitle"},[e._v("Options")])])}],r=n("1da1"),l=(n("96cf"),n("4de4"),n("d81d"),n("b0c0"),n("7db0"),n("b8ae")),o=n("4ac2"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("react-DropdownSelect",{attrs:{kind:"line",className:"fullWidth",label:e.labelText,value:e.value,"data-test":"input_"+e.id},on:{onChange:function(t){return e.$emit("set-value",t.target.value)}}})],1)},c=[],d=n("2909"),f=(n("a15b"),n("99af"),{name:"ConfigSelect",components:{"react-DropdownSelect":Object(l["ReactInVue"])(o["DropdownSelect"])},props:{id:String,labelText:String,items:Array,value:String},methods:{updateItems:function(){var e=document.querySelector("[data-test='input_".concat(this.id,"']"));e&&(e.innerHTML=[""].concat(Object(d["a"])(this.items)).map((function(e){return'<option value="'.concat(e,'">').concat(e,"</option>")})).join(""),this.noValuesCheck())},noValuesCheck:function(){if(0===this.items.length){var e=document.querySelector("[data-test='input_".concat(this.id,"']"));if(!e)return;var t=document.createElement("option");t.style="font-style:italic;color:#CCC",t.text="None found",t.disabled=!0,e.add(t)}}},watch:{items:function(){this.updateItems()}},mounted:function(){this.$nextTick(this.updateItems)}}),p=f,h=n("2877"),b=Object(h["a"])(p,u,c,!1,null,null,null),m=b.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tooltip"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"}},[n("rect",{attrs:{x:"7",y:"6",width:"1",height:"5","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#666766"}}),n("rect",{attrs:{x:"7",y:"4",width:"1",height:"1","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#666766"}}),n("path",{attrs:{d:"M7.5,1C3.9,1,1,3.9,1,7.5S3.9,14,7.5,14 S14,11.1,14,7.5S11.1,1,7.5,1z M7.5,13C4.5,13,2,10.5,2,7.5C2,4.5,4.5,2,7.5,2S13,4.5,13,7.5C13,10.5,10.5,13,7.5,13z","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#666766"}})]),e._m(0)])},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"tooltiptext"},[e._v(" Learn how to set up and use this extension in the "),n("a",{attrs:{href:"https://glitch.com/edit/#!/what-if-extension?path=README.md",target:"_blank"}},[n("b",[e._v("documentation")])]),e._v(". ")])}],x={name:"ConfigInfoTip"},w=x,y=(n("2be4"),Object(h["a"])(w,g,v,!1,null,"198494bf",null)),k=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("span",{staticClass:"label"},[e._v(e._s(e.labelText))]),n("div",{staticClass:"buttonGroup"},e._l(e.items,(function(t){return n("react-Button",{key:t.id,class:[{active:e.value===t.id},0===t.id?"left":"right"],attrs:{kind:e.value===t.id?"primary":"outline",disabled:e.disabled||!1,"data-test":"button_"+e.id+t.id},on:{onClick:function(n){return e.$emit("set-value",t.id)}}},[e._v(e._s(t.name))])})),1)])},S=[],_=(n("a9e3"),{name:"ConfigSelect",components:{"react-Button":Object(l["ReactInVue"])(o["Button"])},props:{id:String,labelText:String,items:Array,value:Number,disabled:Boolean},methods:{updateItems:function(){var e=document.querySelector("[data-test='input_".concat(this.id,"']"));e&&(e.innerHTML=[""].concat(Object(d["a"])(this.items)).map((function(e){return'<option value="'.concat(e,'">').concat(e,"</option>")})).join(""),this.noValuesCheck())},noValuesCheck:function(){if(0===this.items.length){var e=document.querySelector("[data-test='input_".concat(this.id,"']"));if(!e)return;var t=document.createElement("option");t.style="font-style:italic;color:#CCC",t.text="None found",t.disabled=!0,e.add(t)}}},watch:{items:function(){this.updateItems()}},mounted:function(){this.$nextTick(this.updateItems)}}),O=_,T=Object(h["a"])(O,C,S,!1,null,null,null),B=T.exports,j=[{id:0,name:"In Pop-Up"},{id:1,name:"On Dashboard"}],L=[{id:0,name:"On Mark Selection"},{id:1,name:"On Button Click"}],I=[{id:0,name:"All"},{id:1,name:"Only Selected"}],R={name:"Config",components:{ConfigSelect:m,ConfigInfoTip:k,ButtonGroup:B,"react-Button":Object(l["ReactInVue"])(o["Button"]),"react-TextField":Object(l["ReactInVue"])(o["TextField"])},data:function(){return{parameter:"",parameters:[],worksheet:"",worksheets:[],field:"",fields:[],location:0,locations:j,trigger:0,triggers:L,display:0,displays:I,unitLabel:"",selectBtnLabel:"",labelsSet:!1}},computed:{validConfig:function(){return""!==this.parameter&&(""!==this.worksheet&&""!==this.field)}},methods:{getParameters:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=tableau.extensions.dashboardContent.dashboard,e.next=3,t.getParametersAsync();case 3:n=e.sent,n=n.filter((function(e){return"string"===e.dataType&&"all"===e.allowableValues.type})),this.parameters=n.map((function(e){return e.name})),a=tableau.extensions.settings.getAll(),this.parameter=a.parameter&&n.find((function(e){return e.name===a.parameter}))?a.parameter:"";case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getWorksheets:function(){var e=tableau.extensions.dashboardContent.dashboard.worksheets;this.worksheets=e.map((function(e){return e.name}));var t=tableau.extensions.settings.getAll(),n=t.worksheet&&e.find((function(e){return e.name===t.worksheet}));n&&(this.worksheet=t.worksheet)},getFields:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.fields=[]);case 2:return n=tableau.extensions.dashboardContent.dashboard.worksheets,a=n.find((function(e){return e.name===t})),e.next=6,a.getSummaryDataAsync();case 6:i=e.sent,s=i.columns.filter((function(e){return"string"===e.dataType})),this.fields=s.map((function(e){return e.fieldName})),r=tableau.extensions.settings.getAll(),this.field=r.field&&s.find((function(e){return e.fieldName===r.field}))?r.field:"";case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=tableau.extensions.settings.getAll(),n=t.parameter&&t.parameter!==this.parameter||t.field&&t.field!==this.field,a=!0,n&&(a=confirm("Changing these settings will delete your current input values, are you sure?")),!a){e.next=16;break}return tableau.extensions.settings.set("parameter",this.parameter),tableau.extensions.settings.set("worksheet",this.worksheet),tableau.extensions.settings.set("field",this.field),tableau.extensions.settings.set("location",this.location),tableau.extensions.settings.set("trigger",this.trigger),tableau.extensions.settings.set("display",this.display),tableau.extensions.settings.set("unitLabel",this.unitLabel),tableau.extensions.settings.set("selectBtnLabel",this.selectBtnLabel),e.next=15,tableau.extensions.settings.saveAsync();case 15:tableau.extensions.ui.closeDialog("");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},watch:{worksheet:function(e){this.getFields(e)}},created:function(){var e=this;tableau.extensions.initializeDialogAsync().then((function(){var t=tableau.extensions.settings.getAll();e.location=t.location?parseInt(t.location):e.location,e.trigger=t.trigger?parseInt(t.trigger):e.trigger,e.display=t.display?parseInt(t.display):e.display,e.unitLabel=t.unitLabel?t.unitLabel:"##",e.selectBtnLabel=t.selectBtnLabel?t.selectBtnLabel:"Select",e.labelsSet=!0,e.getParameters(),e.getWorksheets()}))}},A=R,P=(n("bcc4"),Object(h["a"])(A,i,s,!1,null,null,null)),V=P.exports;a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(V)}}).$mount("#app")}});
//# sourceMappingURL=config.2525f523.js.map